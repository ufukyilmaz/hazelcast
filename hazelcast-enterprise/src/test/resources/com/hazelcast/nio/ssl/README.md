## Test key material

This directory contains key material for TLS/SSL tests.

### Commands

```bash
keytool -genkey -alias hazelcast -keyalg RSA -keypass 123456 -keystore hazelcast.keystore -storepass 123456  -validity 3600
keytool -export -alias hazelcast -file hazelcast.cer -keystore hazelcast.keystore -storepass 123456
keytool -import -v -trustcacerts -alias hazelcast -keypass 123456 -file hazelcast.cer -keystore hazelcast.truststore -storepass 123456

#generate a second key
keytool -genkey -alias hazelcast2 -keyalg RSA -keypass 123456 -keystore hazelcast2.keystore -storepass 123456  -validity 3600
keytool -export -alias hazelcast2 -file hazelcast2.cer -keystore hazelcast2.keystore -storepass 123456

#import two certs into one trust store
keytool -import -v -trustcacerts -alias hazelcast2 -keypass 123456 -file hazelcast2.cer -keystore hazelcastTwoCerts.truststore -storepass 123456
keytool -import -v -trustcacerts -alias hazelcast  -keypass 123456 -file hazelcast.cer  -keystore hazelcastTwoCerts.truststore -storepass 123456
```
### Demo CA signed certificates

OpenSSL was used to generate demo CA key material. See [create_demo_ca_key_material.sh](create_demo_ca_key_material.sh)
script for details.

### Let's Encrypt CA signed certificates

There are also Let's Encrypt CA signed certificate (with 90days validity) for a hostname `member1.hazelcast-test.download`:

`letsencrypt-privkey.pem`  : the private key for your certificate.
`letsencrypt-privkey.enc.pem`: the private key encrypted using `PBE-SHA1-3DES` PKCS#5 v1.5 algorithm (password: hazelcast)
`letsencrypt-fullchain.pem`: host cert + CA cert
`letsencrypt-chain.pem`    : CA cert
`letsencrypt-cert.pem`     : host cert
`letsencrypt.jks`: private key + cert chain imported to a JKS keystore (password: 123456)

The encrypted key and the keystore were generated by following commands:

```
openssl pkcs8 -in privkey.pem -topk8 -v1 PBE-SHA1-3DES -out privkey.enc.pem -passout pass:hazelcast
openssl pkcs12 -export -out letsencrypt.p12 -name member1 -inkey privkey.pem -in cert.pem -certfile chain.pem -passout pass:123456
keytool -importkeystore -srckeystore letsencrypt.p12 -srcstoretype PKCS12 -destkeystore letsencrypt.jks -deststoretype JKS -srcstorepass 123456 -deststorepass 123456
keytool -importcert -trustcacerts -alias letsencrypt-ca -file chain.pem -keypass 123456 -keystore letsencrypt.jks -storepass 123456 -storetype JKS
```
